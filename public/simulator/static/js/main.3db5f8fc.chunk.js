(window.webpackJsonpmbs_frontend=window.webpackJsonpmbs_frontend||[]).push([[5],{12:function(e,t,n){"use strict";var r=n(73),a=n(23),o=n(54),i=n(14),s=n.n(i),c=n(75),u=n(7),l=n(17),d=function(){function e(){Object(u.a)(this,e),this.storage={}}return Object(l.a)(e,[{key:"setItem",value:function(e,t,n){var r=this;return new Promise(function(a,o){r.storage[e]=t,console.debug("setItem called with ",e,t),n&&n(null,t),a(t)})}},{key:"getItem",value:function(e,t){var n=this;return new Promise(function(r,a){console.debug("getItem called with ",e);var o=n.storage[e];t&&t(null,o),r(o)})}},{key:"removeItem",value:function(e,t){var n=this;return new Promise(function(r,a){console.debug("removeItem called with ",e);var o=n.storage[e];delete n.storage[e],t&&t(null,o),r(o)})}},{key:"getAllKeys",value:function(e){var t=this;return new Promise(function(n,r){console.debug("getAllKeys called");var a=Object.keys(t.storage);e&&e(null,a),n(a)})}}]),e}(),f=n(29),p=n(27),h=n(28),g=n(13),m=n(18),v=n(2),b=n.n(v),y=n(5),O=n(39),P=n(8),k=n(35),w=n.n(k);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(n,!0).forEach(function(t){Object(m.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var T=function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,null,[{key:"fetch",value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.apiUrl,a="";a=-1!==e.indexOf("http://")||-1!==e.indexOf("file://")?e:r+e;var o={};return t&&-1===t.body.toString().indexOf("FormData")&&(o={"Content-Type":"application/json"}),this.getToken().then(function(e){var r={headers:o=S({},o,{},e)},i=b.a.merge({},t,r);return fetch(a,i).then(function(e){if(e.status>=200&&e.status<300){var t=e.headers.get("expiry"),r=e.headers.get("client"),a=e.headers.get("access-token"),o=e.headers.get("token-type"),i=e.headers.get("uid");return n.setToken(a,r,t,o,i),e}return e.status>=401?e.json().then(function(t){if(e.headers.get("access-token")||b.a.includes([Object(y.a)().auth.routes.unauthenticatedRoot,Object(y.a)().auth.routes.helpDesk],P.d.getCurrentLocation().pathname)){var n=new Error(e.statusText);throw n.response=e,n.errors=t.errors,n}P.d.replace({pathname:Object(y.a)().auth.routes.logout,query:{message:t.errors,messageType:2}})}):e.json().then(function(t){var n=new Error(e.statusText);throw n.response=e,n.errors=t.errors,n})}).catch(function(e){var t;throw e.errors?t=e:((t=new Error("Server Not Responded")).response="Server Not Responded",t.errors=["The Request failed. Please make sure you are connected to Internet"]),t})})})},{key:"resetToken",value:function(){this.token=null,this.tokenHash={},s.a.removeItem("tokenHash",null)}},{key:"setToken",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4?arguments[4]:void 0);if(e){this.token=e,this.tokenHash={"access-token":"".concat(this.token),"token-type":"Bearer",expiry:n,client:t,uid:r};var a=JSON.stringify(this.tokenHash),o=new w.a(Object(y.a)().secretKey),i=o.encrypt(a);s.a.setItem("tokenHash",i)}}},{key:"getToken",value:function(){var e=null;return this.token?(e=this.tokenHash,Promise.resolve(e)):s.a.getItem("tokenHash").then(function(t){var n=new w.a(Object(y.a)().secretKey).decrypt(t);return e=JSON.parse(n)}).catch(function(e){return{}})}},{key:"getSpeed",value:function(){var e,t,n;return e=(new Date).getTime(),n=Object(y.a)().apiUrls.apiUrl+"/api/v1/get_favicon",fetch(n,{}).then(function(n){return t=(new Date).getTime(),n.ok?n.blob().then(function(n){return 8*n.size/((t-e)/1e3)/1024}):Promise.resolve(0)}).catch(function(e){return console.log("[getSpeed] could not load file get_favicon"),Promise.resolve(0)})}}]),e}();T.apiUrl=O.a.apiUrl,T.token=null,T.tokenHash={},T.speed=null;var L=n(6),I=n.n(L),x=n(16);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(n,!0).forEach(function(t){Object(m.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var D=function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,null,[{key:"setDefaults",value:function(){return I.a.defaults.baseURL=Object(y.a)().apiUrls.apiUrl,I.a.defaults.timeout=12e4,I.a.defaults.maxRedirects=5,I.a.defaults.transformRequest=[function(e,t){if(e){var n=e,r=b.a.isString(n),a=n.toString().indexOf("FormData")>-1;!e||r||a||(e=JSON.stringify(e)),r&&!a&&(t.post["Content-Type"]="application/json",t.patch["Content-Type"]="application/json")}return e}],Promise.resolve(0)}},{key:"checkAndSetTokenForRequest",value:function(){var e=this;return I.a.defaults.headers.common["access-token"]?Promise.resolve(0):this.getTokenHeadersFromLocalStore().then(function(t){return e.setTokenForNextRequestFromLocalStore(t)})}},{key:"fetch",value:function(e,t){var n=this,r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.apiUrl,b.a.merge({},t,{url:e}));return t&&t.body&&(r.data=r.body),t&&t.credentials&&"include"===t.credentials&&(r.withCredentials=!0),Promise.all([this.setDefaults(),this.checkAndSetTokenForRequest()]).then(function(t){return n.checkForExpiry(e).then(function(e){return I.a.request(r).then(function(e){var t=e.headers;return n.setTokenHeadersForNextRequest(t["access-token"],t.client,t.expiry,t.uid,t["token-type"]),{json:function(){return Promise.resolve(e.data)},blob:function(){return Promise.resolve(e.data)},ok:!0}}).catch(function(e){return n.errorCatching(e)})}).catch(function(e){if(e.response)return Promise.reject(e);n.logoutAndResetToken()})}).catch(function(e){if(e.response)return Promise.reject(e);console.log(e)})}},{key:"setTokenHeadersForNextRequest",value:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Bearer";if(e&&t&&n&&r&&a){var o={"access-token":e,"token-type":a,expiry:n,client:t,uid:r};I.a.defaults.headers.common=_({},I.a.defaults.headers.common,{},o),this.setTokenHeadersInLocalStore(o),Promise.resolve(I.a.defaults.headers.common)}}},{key:"setTokenForNextRequestFromLocalStore",value:function(e){return e["access-token"]&&e["token-type"]&&e.expiry&&e.client&&e.uid?Promise.resolve(I.a.defaults.headers.common=_({},I.a.defaults.headers.common,{},e)):Promise.resolve("No Token Set")}},{key:"setTokenHeadersInLocalStore",value:function(e){var t=JSON.stringify(e),n=new w.a(Object(y.a)().secretKey).encrypt(t);s.a.setItem("tokenHash",n)}},{key:"getTokenHeadersFromLocalStore",value:function(){return s.a.getItem("tokenHash").then(function(e){if(e){var t=new w.a(Object(y.a)().secretKey).decrypt(e);return JSON.parse(t)}return{}})}},{key:"getToken",value:function(){return this.getTokenHeadersFromLocalStore()}},{key:"resolveURL",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=null;return n=b.a.startsWith(e,"http://")||b.a.startsWith(e,"https://")||b.a.startsWith(e,"file://")?"":t&&b.a.startsWith(t,"http://")||b.a.startsWith(t,"https://")?t:Object(y.a)().apiUrls.apiUrl,I.a.defaults.baseURL=n,Promise.resolve(e)}},{key:"resetToken",value:function(){return s.a.removeItem("tokenHash",null).then(function(){return I.a.defaults.headers.common={Accept:"application/json, text/plain, */*"},0})}},{key:"checkForExpiry",value:function(e){var t=Object(y.a)().endpoints;if(e===t.emailSignInPath||e===t.emailForgotPasswPath||e===t.emailSignInPathBypass||e===t.emailRegistrationPath)return Promise.resolve(0);var n=I.a.defaults.headers.common.expiry,r=b.a.now()/1e3;return n?r<b.a.parseInt(n)?Promise.resolve(0):Promise.reject(0):this.getTokenHeadersFromLocalStore().then(function(e){return e.expiry&&b.a.now()/1e3<b.a.parseInt(n)?Promise.resolve(0):Promise.reject(0)})}},{key:"logoutAndResetToken",value:function(){var e=this,t=Object(y.a)().endpoints.signOutPath;return I.a.request(t,{method:"POST",body:""}).then(function(){return e.resetToken().then(function(){return Promise.resolve(K.dispatch({type:x.e,status:"success"})).then(function(){var e=Object(y.a)().auth.routes.login;P.d.push({pathname:e,query:{message:["You need to sign in to continue"],messageType:2}})})})}).catch(function(){return e.resetToken().then(function(){return Promise.resolve(K.dispatch({type:x.e,status:"success"})).then(function(){var e=Object(y.a)().auth.routes.login;P.d.push({pathname:e,query:{message:["You need to sign in to continue"],messageType:2}})})})})}},{key:"getFetchAsseyOptions",value:function(){var e=_({},I.a.defaults,{},{responseType:"blob",Accept:"application/octet-stream"});return Promise.resolve(e)}},{key:"errorCatching",value:function(e){if(e.response){var t=Object(y.a)(),n=t.apiUrls.apiUrl,r=n+t.endpoints.emailSignInPath,a=n+t.endpoints.signOutPath,o=e.config.url===r,i=e.config.url===a,s=new Error(e.response.statusText);return s.response=e.response.data,s.errors=e.response.data.errors,401===e.response.status?o||i?Promise.reject(s):this.logoutAndResetToken().then(function(){return Promise.reject(s)}):Promise.reject(s)}if(e.request){var c=new Error("Server Not Responded");return c.response="Server Not Responded",c.errors=["The Request failed. Please make sure you are connected to Internet"],Promise.reject(c)}var u=new Error(e.message);return u.response=e.message,u.errors=[e.message],Promise.reject(u)}},{key:"fetchFile",value:function(e,t){var n=this;return Promise.all([this.setDefaults(),this.getFetchAsseyOptions()]).then(function(r){var a=b.a.merge({},t,{url:e});t&&t.body&&(a.data=a.body);var o=_({},r[1],{},a);return I.a.request(o).then(function(e){var t=e.headers;return n.setTokenHeadersForNextRequest(t["access-token"],t.client,t.expiry,t.uid,t["token-type"]),e.data}).catch(function(e){return n.errorCatching(e)})}).catch(function(e){if(e.response)return Promise.reject(e);var t=new Error(e.message);return t.response=e.message,t.errors=[e.message],Promise.reject(t)})}}]),e}();D.assetHelpers={fileSystem:null,zip:null},window.AxiosRequest=D,window.axios=I.a,window.localforage=s.a;var F=function(e){function t(){return Object(u.a)(this,t),Object(f.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),t}(g.a.axiosEnabled?D:T),C=n(46),R=n(40),q=n(11);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(n,!0).forEach(function(t){Object(m.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var A={error:{},status:"",token:null,user:{license:{},client:{appConfiguration:{}}},isUserLoggedIn:!1,sessions:[]},U=n(68),H={ai:0,bi:0,ii:0,bc:0,blp:0,unused:[],valuation:0,fundRaise:0,dilution:0,co:0,sa:0,cs:0,fr:0,cm:0,blt:0,team:[],productFixed:!1,angelFixed:!1,teamFixed:!1,simOver:!1,lastLocation:"#",trackers:{overtimeCounter:0},competencyMap:{creative:0,analytical:0,frugal:0,methodical:0,problemSolving:0,decisionMaking:0,balanced:0,timeManagement:0,costManagement:0,resourceful:0,overall:0}},N=n(69),J=[],W=Object(a.combineReducers)({auth:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case q.b:var r=n.payload.auth;return r?M({},t,{},r):t;case x.d:return"authenticating"===n.status?M({},t,{status:n.status,error:{}}):"success"===n.status?M({},t,{status:n.status,user:M({},n.data,{id:JSON.stringify(n.data.id)}),isUserLoggedIn:!0,error:{}}):"error"===n.status?M({},t,{status:n.status,error:n.err}):t;case x.e:return"authenticating"===n.status?M({},t,{status:n.status,error:{}}):"success"===n.status?M({},t,{status:n.status,user:null,isUserLoggedIn:!1,error:{}}):"error"===n.status?M({},t,{status:n.status,user:null,isUserLoggedIn:!1,error:n.err}):t;case x.g:var a=Object(R.a)(t.sessions),o=(new Date).getTime(),i=0,s=JSON.stringify(t.user.id);if(a.length){var c=b.a.pullAt(a,a.length-1);c.isActive=!1,c.endTime=o,a.push(c),i=b.a.replace(c.sessionId,s,"")}var u={sessionId:s+i,userId:s,startTime:o,isActive:!0,endTime:void 0};return a.push(u),M({},t,{sessions:a});case x.f:return"success"===n.status?M({},t,{status:n.status,user:M({},n.data,{id:JSON.stringify(n.data.id)}),isUserLoggedIn:!0,error:{}}):t;case x.h:return(e=b.a.cloneDeep(t)).user.client.appConfiguration=Object.assign({},e.user.client.appConfiguration,n.data.partConfig),e;case x.c:return(e=b.a.cloneDeep(t)).user.license=Object.assign({},e.user.license,n.data.license),e;case x.a:return"success"===n.status?M({},t,{},n.data):t;default:return t}},routing:C.routerReducer,simParams:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case q.b:return(e=n.payload.simParams)?Object.assign({},t,e):t;case U.a:return Object.assign({},t,n.data);default:return t}},questions:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case q.b:return(e=n.payload.questions)?[].concat(Object(R.a)(t),Object(R.a)(e)):t;case N.a:var r=b.a.cloneDeep(t);return b.a.each(n.data,function(e){var t=b.a.find(r,{questionId:e.questionId});void 0!==t&&r.splice(r.indexOf(t),1),r.push(e)}),r;default:return t}}});n.d(t,"a",function(){return K}),n.d(t,"c",function(){return z}),n.d(t,"b",function(){return o.b});var G=!0;try{localStorage.setItem("__u","u")}catch(V){G=!1}var K=Object(c.composeWithDevTools)(Object(a.applyMiddleware)(r.a.withExtraArgument(F)),Object(o.a)())(a.createStore)(W),z={whitelist:["license","auth","simParams","questions","opsRecords"],storage:G?s.a:d}},13:function(e,t,n){"use strict";var r=n(18),a=n(2),o=n.n(a),i=n(39),s={clientApp:!0,languageSelection:!0,searchEnabled:!0,ttsEnabled:!1,startOnHome:!0,subNavBar:!1,authentication:{type:"email",label:"Email address",help:"Please enter your email address",defaultEmail:"guest@app.quodeck.com",defaultPassword:"P@ssw0rd"},registration:{allowed:!1,subtle:!1,restricted:!1,allowedDomains:[]},footer:{isThere:!1,text:"QuoDeck Tech PLC",hasLogo:!0},singleCourse:{isEnabled:!1,id:"",showMenu:!0},ilt:{enabled:!1},social:{enabled:!1}};function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(n,!0).forEach(function(t){Object(r.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.d(t,"a",function(){return d});var l=o.a.union(["icomoon"]),d={language:"en",secretKey:"p20o20e13",axiosEnabled:!0,clientApp:s.clientApp,authentication:s.authentication,registration:s.registration,isMobile:!!window.isCordova&&window.isCordova,apiUrls:i.a,endpoints:i.b,auth:{routes:{authenticatedRoot:"/",unauthenticatedRoot:"/login",login:"/login",logout:"/logout",signup:"/signup",forgotPassword:"/forgotPassword",helpDesk:"/helpDesk",backListSessionPath:["/session/home","/session","/login","logout","/home","/undefined"]},maxSessions:100,omniauth:[]},notifications:{notificationFetchTimeGap:0,notificatioCountFetchTimeGap:0},fonts:{custom:{families:l,urls:o.a.map(l.slice(0,-1),function(e,t){return"assets/fonts/"+e+".css"})}},colors:{master:"#42609c",masterText:"#ffffff",footer:"#535353",iconBg:"#ff0000",navbar:"#1995ad",tileBg:"#666666",courseBg:"#bcbabe",textList:"#333",tileText:"#ffffff",iconColor:"black",itemImgBg:"#666",navbarBtn:"#bcbabe",navigator:"#ffffff",navsubbar:"#535353",topicList:"#333",courseName:"rgba(0,0,0,0.8)",drawerMenu:"#bcbabe",footerText:"#ffffff",headerText:"#fff",listBarBtn:"#121212",tileIconBg:"#ddd",headerBlock:"#1995ad",overallCard:"rgba(0,0,0,0.8)",navbarBtnTxt:"#000",listBarLeader:"#454545",navigatorHome:"#ffc900",navigatorText:"#000",drawerMenuItem:"#cdcbce",drawerMenuText:"#000",listBarBtnText:"#ffc900",drawerMenuDarker:"#cdcbce",drawerMenuLeader:"#1995ad",navbarBtnMenuBtn:"#fff",navbarTransparentBtn:"#fff",notificationText:"#111111",reportsIconColor:"yellow",sublogoTextColor:"#ffffff",listBarLeaderText:"#454545",reportsLabelColor:"white",listBarDescription:"#333333",completionIndicator:"rgba(0,0,0,0.8)",drawerMenuActiveItem:"#1995ad",drawerMenuActiveText:"#fff",drawerMenuLeaderText:"#fff",courseListItemCurrent:"#1995ad",drawerMenuDisableItem:"#888",drawerMenuDisableText:"#444",courseListItemComplete:"#d3d2d5",drawerMenuLeaderHeader:"#ffffff",listBarDescriptionText:"#ffffff",notificationBackground:"#ffffff",courseListingHeaderBack:"#ffffff",courseListingHeaderText:"#000000",courseListItemIncomplete:"#cdcbce",courseListItemCurrentText:"#fff",courseListItemCompleteText:"#000",courseListItemIncompleteText:"#000"},appStyle:u({},{background:"#000000",backgroundImage:"assets/images/configurable/background.gif",libraryBg:"assets/images/configurable/libraryBg.jpg",desktopImage:"assets/images/configurable/desktopBg.jpg",landscapeBg:"assets/images/configurable/landscapeBg.jpg",brandingLogo:"assets/images/configurable/logo.png",loginLogo:"assets/images/configurable/logo.png",coLogo:"assets/images/configurable/cologo.png",footerLogo:"assets/images/configurable/footerlogo.png"},{fontFamily:[l[1],l[3]]}),buttonStyle:u({},{background:"#ffc900",color:"#000",borderRadius:"0"},{fontFamily:[l[2],l[3]]}),secondaryButtonStyle:{background:"#0a97b7",color:"#ffffff",borderRadius:"0"},headerStyle:u({},{},{fontFamily:[l[2],l[3]]}),textStyle:u({},{},{fontFamily:[l[1],l[3]]}),textInputStyle:{background:"#ffeee0",padding:"10px",fontSize:"1.2em",color:"#000000"},pageStyle:u({},{position:"absolute",height:"100%",width:"100%",top:"0",left:"0"}),style:u({},{padding:"30px",background:"#0a97b7",width:"80%",margin:"10%"}),appLogoStyle:u({},{width:"70%",margin:"15%",display:"block"}),boxStyle:u({},{padding:"30px",background:"#0a97b7",width:"80%",margin:"10%",color:"#fff"})}},144:function(e,t,n){},145:function(e,t,n){},146:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(57),i=n.n(o),s=n(56),c=n(12);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(144);var u=n(18),l=n(7),d=n(17),f=n(29),p=n(27),h=n(21),g=n(28),m=n(14),v=n.n(m),b=n(8),y=n(46),O=n(25),P=n.n(O),k=n(80),w=n.n(k),j=(n(82),n(145),n(5)),S=n(13),T=n(20);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var I=P()({loader:function(){return Promise.all([n.e(0),n.e(1),n.e(12),n.e(4)]).then(n.bind(null,899))},loading:T.a}),x=P()({loader:function(){return Promise.all([n.e(0),n.e(2),n.e(1),n.e(11),n.e(8)]).then(n.bind(null,893))},loading:T.a}),E=P()({loader:function(){return Promise.all([n.e(0),n.e(2),n.e(1),n.e(11),n.e(8)]).then(n.bind(null,900))},loading:T.a}),_=P()({loader:function(){return Promise.all([n.e(0),n.e(2),n.e(1),n.e(11),n.e(8)]).then(n.bind(null,903))},loading:T.a}),D=P()({loader:function(){return Promise.all([n.e(0),n.e(2),n.e(1),n.e(11),n.e(8)]).then(n.bind(null,901))},loading:T.a}),F=P()({loader:function(){return Promise.all([n.e(0),n.e(13),n.e(7)]).then(n.bind(null,905))},loading:T.a}),C=P()({loader:function(){return Promise.all([n.e(0),n.e(2),n.e(9),n.e(3)]).then(n.bind(null,898))},loading:T.a}),R=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(f.a)(this,Object(p.a)(t).call(this,e))).manageStore=function(e){"purge"===e?(Object(c.b)(c.a,c.c).purge(),v.a.removeItem("tokenHash")):Object(c.b)(c.a,c.c,function(){var e=window.localStorage.getItem("reduxPersist:auth");e&&v.a.setItem("reduxPersist:auth",e),n.setState({rehydrated:!0})})},n.state={rehydrated:!1},n.requireLogin=n.requireLogin.bind(Object(h.a)(n)),n.alreadyLoggedIn=n.alreadyLoggedIn.bind(Object(h.a)(n)),n.manageStore=window.manageStore=n.manageStore.bind(Object(h.a)(n)),n.manageStore(),w.a.load(Object(j.a)().fonts),n}return Object(g.a)(t,e),Object(d.a)(t,[{key:"requireLogin",value:function(e,t,n){var r=Object(j.a)().auth.routes.unauthenticatedRoot;c.a.getState().auth.isUserLoggedIn||t(r),n()}},{key:"alreadyLoggedIn",value:function(e,t,n){var r=S.a.auth.routes.authenticatedRoot;c.a.getState().auth.isUserLoggedIn&&t(r),n()}},{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},Object(j.a)().appStyle,{position:"relative",height:"100%",background:"inherit"}),t=a.a.createElement("div",{style:{height:"100vh"}},a.a.createElement("div",{style:e},a.a.createElement(b.c,{history:Object(y.syncHistoryWithStore)(b.d,c.a)},a.a.createElement(b.b,{path:"/register",component:I,onEnter:this.alreadyLoggedIn}),a.a.createElement(b.b,{path:"/logout",component:I,onEnter:this.requireLogin}),a.a.createElement(b.b,{path:"/login",component:I,onEnter:this.alreadyLoggedIn}),a.a.createElement(b.b,{path:"/",component:x,onEnter:this.requireLogin}),a.a.createElement(b.b,{path:"/simulation/:id",component:E,onEnter:this.requireLogin}),a.a.createElement(b.b,{path:"/simulation_questions/:id",component:_,onEnter:this.requireLogin}),a.a.createElement(b.b,{path:"/result/:id",component:D,onEnter:this.requireLogin}),a.a.createElement(b.b,{path:"/analytics",component:F,onEnter:this.requireLogin}),a.a.createElement(b.b,{path:"/analytics/:id",component:C,onEnter:this.requireLogin}))));return this.state.rehydrated||(t=a.a.createElement(T.a,null)),t}}]),t}(a.a.Component);i.a.render(a.a.createElement(s.a,{store:c.a,key:"provider"},a.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},16:function(e,t,n){"use strict";n.d(t,"d",function(){return s}),n.d(t,"e",function(){return c}),n.d(t,"g",function(){return u}),n.d(t,"f",function(){return l}),n.d(t,"h",function(){return d}),n.d(t,"c",function(){return f}),n.d(t,"a",function(){return p}),n.d(t,"b",function(){return b});var r=n(7),a=n(2),o=n.n(a),i=n(13),s="LOGIN",c="LOGOUT",u="SESSION",l="OMNIAUTHLOGIN",d="UPDATE_CONFIG",f="GET_LICENSE",p="ACCEPT_COOKIES";function h(e,t,n){return{type:s,status:e,err:t,data:n}}function g(e,t,n){return{type:c,status:e,err:t,data:n}}var m=function(e,t){return{processedFirstField:o.a.chain(e).trim().toLower().value(),processedPasswordField:o.a.chain(t).split(" ").join("").value()}},v=function(e,t){var n=null;return t&&"email"===t&&!o.a.includes(e,"@")&&(n="Email is invalid format, please check the email you have entered."),n};var b=function e(){Object(r.a)(this,e)};b.login=function(e,t,n){return function(r,a,o){var s=new FormData,c=m(e,t),u=v(e,"email");if(u)return Promise.resolve({status:500,errors:[u]});s.append("email",c.processedFirstField),s.append("password",c.processedPasswordField);var l=i.a.endpoints.emailSignInPath;return o.fetch(l,{method:"POST",body:s},n).then(function(e){return e.json()}).then(function(e){return r(h("success",null,{id:e.data.id,email:e.data.email,uid:e.data.uid,provider:e.data.provider}))}).catch(function(e){return r(h("error",e,null)),Promise.reject(e)})}},b.register=function(e,t,n,r){return function(r,a,s){var c=i.a.endpoints.emailRegistrationPath,u=new FormData;return u.append("email",o.a.chain(t).trim().toLower().value()),u.append("password",n),u.append("name",e),u.append("password_confirmation",n),s.fetch(c,{method:"POST",body:u}).then(function(e){return e.json()}).then(function(e){return e=e.data,r(h("success",null,{id:e.id,email:e.email,uid:e.uid,provider:e.provider}))}).catch(function(e){return r(h("error",e,null))})}},b.logout=function(){return function(e,t,n){e(g("fetching"));var r=i.a.endpoints.signOutPath;return n.fetch(r,{method:"POST",body:""}).then(function(){n.resetToken()}).then(function(){return e(g("success"))}).catch(function(t){return n.resetToken(),e(g("error",t))})}},b.session=function(){return function(e,t,n){return Promise.resolve(e({type:u,status:r,err:a,data:o}));var r,a,o}},b.forgotPassword=function(e){return function(t,n,r){var a=new FormData;e=o.a.chain(e).trim().toLower().value(),a.append("email",e),a.append("redirect_url","/login");var s=i.a.endpoints.emailForgotPasswPath;return r.fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:a}).then(function(e){return e.json()}).catch(function(e){return Promise.reject(e)})}},b.omniAuthLogin=function(e){return function(t,n,r){var a,i,s,c=e.access_token;return r.setToken(c["access-token"],c.client,c.expiry,c["token-type"],c.uid),Promise.resolve(t((a="success",i=null,s=o.a.omit(e,"access-token"),{type:l,status:a,err:i,data:s})))}},b.bypassLogin=function(){return function(e,t,n){var r=i.a.endpoints.emailSignInPathBypass,a=new FormData;return n.fetch(r,{method:"POST",body:a,credentials:"include"}).then(function(e){return e.json()}).then(function(t){return e(h("success",null,{id:t.data.id,email:t.data.email,uid:t.data.uid,provider:t.data.provider,username:t.data.username,first_name:t.data.first_name,last_name:t.data.last_name,admin:t.data.admin,system_generated:t.data.system_generated,total_online_time:t.data.total_online_time,total_first_online_time:t.data.total_first_online_time,user_active:t.data.user_active,role_select:t.data.role_select,isUserLoggedIn:t.data.isUserLoggedIn,client:{name:t.data.client.name,appConfiguration:t.data.client.app_configuration}}))}).catch(function(t){return e(h("error",t,null)),Promise.reject(t)})}},b.updateConfig=function(e){return function(t,n,r){var a,o,s,c=i.a.endpoints.updateConfigPath.replace(":id",n().auth.user.client.id);return Promise.resolve(t((a="success",o=null,s={partConfig:e},{type:d,status:a,err:o,data:s}))).then(function(){return r.fetch(c,{method:"PATCH",body:JSON.stringify({client:{name:n().auth.user.client.name,app_configuration:e}})}).then(function(e){return e.json()}).then(function(e){}).catch(function(e){console.log(e)})})}},b.getLicense=function(){return function(e,t,n){var r=i.a.endpoints.getLicensePath.replace(":id",t().auth.user.license.id);return n.fetch(r).then(function(e){return e.json()}).then(function(t){return Promise.resolve(e(function(e,t,n){return{type:f,status:e,err:t,data:n}}("success",null,{license:t})))}).catch(function(e){console.log(e)})}}},20:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(7),a=n(17),o=n(29),i=n(27),s=n(28),c=n(1),u=n.n(c),l=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){return u.a.createElement("div",{style:{width:"100vw",height:"100vh"}},u.a.createElement("img",{src:"assets/images/configurable/fploading.gif",style:{position:"absolute",top:"65%",left:"50%",transform:"translate(-50%,-50%)"},alt:"Loading Gif"}),u.a.createElement("img",{src:"assets/images/configurable/logo.png",style:{position:"absolute",top:"30%",left:"50%",transform:"translate(-50%,-50%)",maxWidth:"80vw"},alt:"Logo"}))}}]),t}(u.a.Component)},39:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a});var r={apiUrl:"http://mbs.techknowzeal.com/",assetUrl:"http://mbs.techknowzeal.com/",assetLib:"assets"},a={signOutPath:"/api/v1/auth/sign_out",emailSignInPath:"/api/v1/auth/sign_in",emailRegistrationPath:"/api/v1/auth",emailForgotPasswPath:"/api/v1/auth/password",passwordResetPath:"/api/v1/auth/password",passwordUpdatePath:"/api/v1/auth/password",tokenValidationPath:"/api/v1/auth/validate_token",simulationResultPath:"/api/v1/simulation_results"}},5:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(12),a=n(13),o=n(2),i=n.n(o),s=function(){var e=a.a,t={};return r.a.getState().auth.user&&r.a.getState().auth.user.client&&r.a.getState().auth.user.client.appConfiguration&&(t=r.a.getState().auth.user.client.appConfiguration||{}),i.a.merge(e,t)}},68:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(7),a=n(2),o=n.n(a),i=n(5),s="SET_SIM_PARAMS",c=function(e,t,n){return{type:s,data:t,err:n,status:e}},u=function e(){Object(r.a)(this,e)};u.setLastLocation=function(e){return function(t,n,r){return Promise.resolve(t(c("Setting Last Location",{lastLocation:e},null)))}},u.endSim=function(e){return function(t,n,r){var a=n().questions,s=n().simParams,u=0;o.a.each(a,function(e){void 0!==e.value&&void 0!==e.value.ownership&&(u+=e.value.ownership)});var l=0;o.a.each(a,function(e){void 0!==e.value&&void 0!==e.value.passion_for_excellence&&(l+=e.value.passion_for_excellence)});var d=0;o.a.each(a,function(e){void 0!==e.value&&void 0!==e.value.high_performance&&(d+=e.value.high_performance)});var f=0;o.a.each(a,function(e){void 0!==e.value&&void 0!==e.value.meritocracy&&(f+=e.value.meritocracy)});var p=0;o.a.each(a,function(e){void 0!==e.value&&void 0!==e.value.team_spirit&&(p+=e.value.team_spirit)});var h=0;o.a.each(a,function(e){void 0!==e.competencies&&void 0!==e.competencies.problem_solving&&(h+=e.competencies.problem_solving)});var g=0;o.a.each(a,function(e){void 0!==e.competencies&&void 0!==e.competencies.decision_making&&(g+=e.competencies.decision_making)});var m=0;o.a.each(a,function(e){void 0!==e.competencies&&void 0!==e.competencies.balanced_approach&&(m+=e.competencies.balanced_approach)});var v=0;o.a.each(a,function(e){void 0!==e.competencies&&void 0!==e.competencies.time_management&&(v+=e.competencies.time_management)});var b=Math.round(u/10*100),y=Math.round(l/10*100),O=Math.round(d/11*100),P=Math.round(f/9*100),k=Math.round(p/11*100),w=Math.round(h/14*100),j=Math.round(g/16*100),S=Math.round(m/11*100),T=Math.round(v/11*100);return Promise.resolve(t(c("Ending Sim",{competencyMap:{timeManagement:T,balanced:S,decisionMaking:j,problemSolving:w,ownership:b,passionForExcellence:y,highPerformance:O,meritocracy:P,teamSpirit:k},simOver:!0},null))).then(function(){s=n().simParams;var t={user_id:n().auth.user.id,simulation_id:e,user_data:{questions:a,simParams:s}};return r.fetch(Object(i.a)().endpoints.simulationResultPath,{method:"POST",body:JSON.stringify(t)})}).catch(function(e){return t(c("error",e,null)),Promise.reject(e)})}},t.b=u},69:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(7),a="SAVE_ANSWERS",o=function e(){Object(r.a)(this,e)};o.saveAnswers=function(e){return function(t,n,r){return Promise.resolve(t({type:a,data:e,err:null,status:"Saving Answers"}))}},t.b=o},84:function(e,t,n){e.exports=n(146)}},[[84,6,10]]]);
//# sourceMappingURL=main.3db5f8fc.chunk.js.map